{% extends 'base.html' %}
{% load static %}
{% block scripts %}
<script src="{% static 'scripts/contactSearch.js' %}" defer></script>
{% endblock %}
{% block content %}

<h2 class="text-center title">Contacts</h2>

<div class="center container-lg">
    <button class="btn center txt-sml btn-md side">
        <a href="{% url 'contacts_create' %}">Add</a>
    </button>

    <br />

    <form class="form center" action="" method="get" id="contacts-search-form">
        <label class="txt-center center txt-medium" for="contacts-search"
            >Search a Contact:</label
        >
        <input
            class="border-bottom txt-center txt-sml"
            type="text"
            name="contacts-search"
            id="contacts-search"
            autocomplete="off"
        />
    </form>

    <br />
    <div class="center container-sml">
        <div id="display-contacts">
            {% for contact in contacts %}
                <div class="flex-item">
                    <div class="card">
                        <div class="card-title-div">
                            <div class="card-title">
                                <a href="{% url 'contacts_detail' contact.id %}"><span class="txt-bold txt-medium">{{ contact.name }}</span></a>
                            </div>
                        </div>
                        <div class="card-content">
                        {% if contact.application %}
                            <p class="txt-medium">Application: {{ contact.application.company }}</p>
                        {% endif %}
                            <p class="txt-medium">Email: {{ contact.email }}</p>
                            <p class="txt-medium">LinkedIn: {{ contact.linkedin }}</p>
                            <p class="txt-medium">Notes: {{ contact.notes }}</p>
                        </div>
                    </div>
                </div>
                <br>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}
